pipeline {
    agent any

    stages {
        stage('Clone Repository') {
            steps {
                echo 'ğŸ“‚ Git ì €ì¥ì†Œë¥¼ í´ë¡  ì¤‘...'
                checkout scm
            }
        }

        stage('Build') {
            steps {
                echo 'ğŸ”¨ ë¹Œë“œ ì¤‘...'
                sh './jenkins/build.sh'
            }
        }

        stage('Test') {
            steps {
                echo 'ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘...'
                sh './gradlew test'
            }
        }

        stage('Package') {
            steps {
                echo 'ğŸ“¦ íŒ¨í‚¤ì§• ì¤‘...'
                archiveArtifacts artifacts: 'build/libs/*.jar', allowEmptyArchive: true
            }
        }
    }

    post {
        always {
            echo 'ğŸ“¢ íŒŒì´í”„ë¼ì¸ ì™„ë£Œ!'
        }
        success {
            echo 'âœ… ì„±ê³µì ìœ¼ë¡œ ë¹Œë“œë˜ì—ˆìŠµë‹ˆë‹¤.'
        }
        failure {
            echo 'âŒ ë¹Œë“œê°€ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.'
        }
    }
}
